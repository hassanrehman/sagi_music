<%
album_links = []
album_links << link_to("All", "javascript:;", :style => "color:green;",
    :onclick => "loadSubPanel('#songsMenu', \"#{songs_by_artist_path(artist_id)}\");") if albums.size > 1
  
album_links += albums.collect do |a|
  link_to a.name, "javascript:;",
    :onclick => "loadSubPanel('#songsMenu', \"#{songs_by_album_path(a.id)}\");"
end
%>
<%= album_links.join(", ") %>

<% if albums.size == 1 %>
<script type="text/javascript">
  loadSubPanel('#songsMenu', "<%=  songs_by_album_path(albums.first.id) %>");
</script>
<% end %>